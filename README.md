# Lizbeth Chat (Flask)

Two pages:
- **/app**: the "Lizbeth" page (she uses this link)
- **/panel_miguel**: your panel to reply

Messages are **saved**:
- Uses **Supabase** if `SUPABASE_URL` and `SUPABASE_KEY` exist
- Otherwise falls back to local **SQLite** (`messages.db`) for quick local testing

## Local run (SQLite fallback)
```bash
pip install -r requirements.txt
python app.py
```
Open:
- http://127.0.0.1:5000/app
- http://127.0.0.1:5000/panel_miguel

## Use Supabase (recommended for Render)
Set env vars:
- `SUPABASE_URL`
- `SUPABASE_KEY`
Optional:
- `CHAT_ID` (default: Lizbeth)
- `MAX_MENSAJES` (default: 20)

### Table schema (Supabase SQL)
Create table `mensajes`:

```sql
create table if not exists public.mensajes (
  id bigint generated by default as identity primary key,
  chat text not null,
  de text not null,
  texto text not null,
  created_at timestamp with time zone default now()
);
```

Enable RLS and policies as needed (depends on your setup).

## Render
- Build Command: `pip install -r requirements.txt`
- Start Command: `gunicorn app:app`
- Environment: add `SUPABASE_URL`, `SUPABASE_KEY`
